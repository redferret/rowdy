
import "core.streams"

func main(filePath) {
	$init(filePath)
	$printFile()
	$close()
}

func init(filePath) {
	global inputStream = $openFileInputStream(filePath)
	global reader = $getBufferedReader(inputStream)
}

func printFile() {
	loop file: {
		line = $readLine(reader)
		if (line == null) {
			break file
		} else {
			print line, "\n"
		}
	}
}

func nextLine() {
	return $readLine(reader)
}

func close() {
	$closeInputStream(inputStream)
	$closeBufferedReader(reader)
}