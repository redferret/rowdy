
import "core.streams"

func main(filePath) {
	$initFileReader(filePath)
	$printFile()
	$closeFileReader()
}

func initFileReader(filePath) {
	global inputStream = $openFileInputStream(filePath)
	global reader = $getBufferedReader(inputStream)
	global line = ""
}

func printFile() {
	loop file: {
		line = $readLine(reader)
		if (line == null) {
			break file
		} else {
			print line, "\n"
		}
	}
}

func nextLine() {
	line = $readLine(reader)
	return line
}

func closeFileReader() {
	$closeInputStream(inputStream)
	$closeBufferedReader(reader)
}